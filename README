INSTALLATION

1. build environment:
    > python3 -m venv .venv
2. activate environment:
    > source .venv - Linux
    > .venv\Scripts\activate.bat - Windows
3. restore required add-ons:
    > pip install -r requirements.txt

Query to generate sequence update:

SELECT 'SELECT SETVAL(' ||
       quote_literal(quote_ident(PGT.schemaname) || '.' || quote_ident(S.relname)) ||
       ', COALESCE(MAX(' ||quote_ident(C.attname)|| '), 1) ) FROM ' ||
       quote_ident(PGT.schemaname)|| '.'||quote_ident(T.relname)|| ';'
FROM pg_class AS S,
     pg_depend AS D,
     pg_class AS T,
     pg_attribute AS C,
     pg_tables AS PGT
WHERE S.relkind = 'S'
    AND S.oid = D.objid
    AND D.refobjid = T.oid
    AND D.refobjid = C.attrelid
    AND D.refobjsubid = C.attnum
    AND T.relname = PGT.tablename
ORDER BY S.relname;

DEPLOYEMNT TO HEROKU:
heroku container:login
heroku container:push web --app type-one
heroku container:release web --app type-one

ACCESS TO HEROKU POSTGRES DATABASE:
heroku psql -a type-one

SAMPLE DUMP/RESTORE
pg_dump -h meduz -U postgres -p 5432 type_one > meduz-2023-03-16-23-00.dump 
psql -h 192.168.0.186 -p 5432 -U postgres type_one < meduz-2023-03-16-23-00.dump