{% extends 'base.html' %}

{% block content %}
{% load i18n %}
{% load tz %}

<div class="container">
    <div class="row justify-content-between">
        <div>
            <h1>{% trans "Diagram" %}</h1>      
        </div>
        <div>
            <a href="{% url 'records:list' %}" class="btn btn-primary">{% trans "Records" %}</a>
        </div>        
    </div>
    <div class="row">
        <div class="col p-0">
            <canvas id="diagramId" height="400px">Canvas element is not supported by this browser</canvas>
        </div>   
    </div>
</div>

<script type="text/javascript">

    var canvas = document.getElementById("diagramId");
    canvas.width = canvas.parentElement.offsetWidth;
    var context = canvas.getContext("2d");
{% comment %} 
    context.fillStyle = "blue";
    context.fillRect(0, 0, canvas.width, 400); {% endcomment %}

    {% comment %} context.strokeStyle = "#ff0000";
    context.beginPath();
    context.moveTo(0, canvas.height);
    context.lineTo(canvas.width, canvas.height);
    context.stroke();
    context.closePath(); {% endcomment %}

    context.font = "12px Verdana";

    for (i=0; i<24; i++) {
        context.fillText(i, i * (canvas.width/24), canvas.height);
    }

    {% comment %} context.fillText(minutes[i].split(',')[0].substring(10), xOff + (i * step) - 15, yOff - 20);
    context.fillText(minutes[i].split(',')[0].substring(10), xOff + (i * step) - 15, height - yOff + 20); {% endcomment %}

</script>


{% endblock %}

